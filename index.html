<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Massanutten Produce</title>
		<!-- Bootstrap CSS -->
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
		<!-- Bootstrap Icons -->
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
		<!-- Custom styles -->
		<link rel="stylesheet" href="css/styles.css">
	</head>
	<body>
	<style>
		/* Flyer modal canvas / layout styles */
		.flyer-row{display:flex;gap:1rem;justify-content:center;align-items:flex-start;flex-wrap:wrap;padding:1rem 0}
		.flyer-col{flex:1 1 400px;max-width:48%}
		.flyer-canvas{width:100%;background:#fff;border:1px solid rgba(0,0,0,.08)}
		@media (max-width:767px){.flyer-col{max-width:100%}}
	</style>
		<!-- Header: topbar + navbar combined so topbar appears integrated -->
		<header class="fixed-top">
			<div class="topbar bg-success text-light small">
				<div class="container d-flex justify-content-between align-items-center">
					<div class="d-flex align-items-center">
						<div class="d-lg-block ms-1">
							<span id="todayHours">Today: —</span>
						</div>
					</div>
				</div>
			</div>

			<nav class="navbar navbar-expand-lg navbar-dark bg-success">
				<div class="container">
					<a class="navbar-brand" href="#">Massanutten Produce</a>
					<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav" aria-controls="#mainNav" aria-expanded="false" aria-label="Toggle navigation">
						<span class="navbar-toggler-icon"></span>
					</button>
					<div class="collapse navbar-collapse" id="mainNav">
						<ul class="navbar-nav ms-auto">
							<li class="nav-item"><a class="nav-link active" href="index.html" target="_blank" rel="noopener noreferrer">Home</a></li>
							<li class="nav-item"><a class="nav-link" href="about.html" target="_blank" rel="noopener noreferrer">About</a></li>
							<li class="nav-item"><a class="nav-link" href="contact.html" target="_blank" rel="noopener noreferrer">Contact</a></li>
						</ul>
					</div>
				</div>
			</nav>
			<!-- Centered logo overlapping the hero -->
			<img src="img/Massanutten%20produce%20logo.png" alt="Massanutten Produce" class="nav-logo">
		</header>

		<!-- Hero carousel (rotating background images) -->
		<div id="heroCarousel" class="carousel slide carousel-fade" data-bs-ride="carousel" data-bs-interval="4500" data-bs-pause="false">
			<div class="carousel-inner">
				<div class="carousel-item active" style="background-image: url('img/ousideback.jpg')">
					<div class="carousel-overlay"></div>
				</div>

				<div class="carousel-item" style="background-image: url('img/watermelon.jpg')">
					<div class="carousel-overlay"></div>
				</div>

				<div class="carousel-item" style="background-image: url('img/bakeryitems.jpg')">
					<div class="carousel-overlay"></div>
				</div>

				<div class="carousel-item" style="background-image: url('img/mums.jpg')">
					<div class="carousel-overlay"></div>
				</div>
			</div>
			<!-- Controls and indicators removed for a seamless rotating hero -->
			<!-- Static welcome box overlayed on top of carousel (stays while slides rotate) -->
			<div class="hero-static-overlay">
				<div class="container">
					<div class="welcome-box">
						<h1>Welcome to Massanutten Produce</h1>
						<p class="lead">Fresh produce from Massanutten valley — seasonal, local, and sustainably grown.</p>
						<p><a class="btn btn-light btn-lg" href="about.html" target="_blank" rel="noopener noreferrer">Learn More</a></p>
					</div>
				</div>
			</div>
		</div>

		<!-- Main content -->
		<main class="py-5">
			<div class="container mt-5">
				<!-- Page content goes here -->
				<!-- Monthly flyer button -->
				<div class="text-center mb-4">
					<a id="openFlyerBtn" class="btn btn-success btn-lg" href="#" aria-label="Open monthly flyer preview">Check out our monthly flyer!</a>
				</div>

				<!-- Seasonal offerings section -->
				<section id="seasonal" class="mt-5">
					<h2 class="mb-4">In Season Now</h2>
					<div class="row g-4">
						<div class="col-12 col-md-6 col-lg-4">
							<div class="card h-100">
								<div class="card-body">
									<h5 class="card-title">Potatoes</h5>
								</div>
							</div>
						</div>

						<div class="col-12 col-md-6 col-lg-4">
							<div class="card h-100">
								<div class="card-body">
									<h5 class="card-title">Sweet potatoes</h5>
								</div>
							</div>
						</div>

						<div class="col-12 col-md-6 col-lg-4">
							<div class="card h-100">
								<div class="card-body">
									<h5 class="card-title">Tomatoes</h5>
								</div>
							</div>
						</div>

						<div class="col-12 col-md-6 col-lg-4">
							<div class="card h-100">
								<div class="card-body">
									<h5 class="card-title">Squash</h5>
								</div>
							</div>
						</div>

						<div class="col-12 col-md-6 col-lg-4">
							<div class="card h-100">
								<div class="card-body">
									<h5 class="card-title">Greens</h5>
								</div>
							</div>
						</div>

						<div class="col-12 col-md-6 col-lg-4">
							<div class="card h-100">
								<div class="card-body">
									<h5 class="card-title">Apples</h5>
								</div>
							</div>
						</div>

						<div class="col-12 col-md-6 col-lg-4">
							<div class="card h-100">
								<div class="card-body">
									<h5 class="card-title">Grapes</h5>
								</div>
							</div>
						</div>
					</div>
				</section>
			</div>
		</main>

		<!-- Flyer Preview Modal (images) -->
		<div class="modal fade" id="flyerModal" tabindex="-1" aria-hidden="true">
			<div class="modal-dialog modal-xl modal-dialog-centered modal-fullscreen-sm-down">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title">Monthly Flyer Preview</h5>
						<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
					</div>
					<div class="modal-body">
						<div id="modalFlyerRow" class="flyer-row">
							<div class="flyer-col"><img id="modalImg1" class="img-fluid" alt="Flyer page 1"></div>
							<div class="flyer-col"><img id="modalImg2" class="img-fluid" alt="Flyer page 2"></div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Footer -->
		<footer class="bg-dark text-light py-5 mt-auto site-footer">
			<div class="container">
				<div class="row gy-3 align-items-center">
					<div class="col-md-4">
						<strong>Contact</strong>
						<div class="footer-phone mt-2"><a class="text-light" href="tel:+15408101938" target="_blank" rel="noopener noreferrer">Phone: (540) 810-1938</a></div>
						<div class="footer-address mt-1">5375 Spotswood Trail, Penn Laird, VA 22846</div>
					</div>
					<div class="col-md-4">
						<strong>Hours</strong>
						<div class="footer-hours mt-2">Monday: 9:00am–5:00pm<br>Tuesday: 9:00am–5:00pm<br>Wednesday: 9:00am–5:00pm<br>Thursday: 9:00am–5:00pm<br>Friday: 9:00am–5:00pm<br>Saturday: 10:00am–4:00pm<br>Sunday: Closed</div>
					</div>
					<div class="col-md-4 text-md-end">
						<div class="mb-2">&copy; 2025 Massanutten Produce</div>
							<div class="footer-social">
								<a class="text-light ms-2" href="https://www.instagram.com/massanutten_produce/?hl=en" target="_blank" rel="noopener" aria-label="Instagram">
									<i class="bi bi-instagram"></i>
								</a>
							<a class="text-light ms-2" href="https://www.facebook.com/massanuttenproduce" target="_blank" rel="noopener" aria-label="Facebook">
								<i class="bi bi-facebook"></i>
							</a>
						</div>
					</div>
				</div>
			</div>
		</footer>

		<!-- Bootstrap JS bundle -->
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
		<script>
		(function(){
			const openBtn = document.getElementById('openFlyerBtn');
			const modalEl = document.getElementById('flyerModal');
			const modal = new bootstrap.Modal(modalEl);
			const img1 = document.getElementById('modalImg1');
			const img2 = document.getElementById('modalImg2');

			function loadImages(){
				if(img1 && !img1.src) img1.src = 'img/flyer-page1.png';
				if(img2 && !img2.src) img2.src = 'img/flyer-page2.png';
			}

			if(openBtn){
				openBtn.addEventListener('click', function(e){
					e.preventDefault();
					modal.show();
				});
			}

			modalEl.addEventListener('shown.bs.modal', function(){
				loadImages();
			});

			modalEl.addEventListener('hidden.bs.modal', function(){
				// optional: clear images to free memory
				// if(document.getElementById('modalImg1')) document.getElementById('modalImg1').src = '';
				// if(document.getElementById('modalImg2')) document.getElementById('modalImg2').src = '';
			});
		})();
		</script>
		<script>
		// Update today's hours display (only today's hours shown in topbar)
			(function(){
				const weekly = {
					0: 'Closed',
					1: '9:00am–5:00pm',
					2: '9:00am–5:00pm',
					3: '9:00am–5:00pm',
					4: '9:00am–5:00pm',
					5: '9:00am–5:00pm',
					6: '10:00am–4:00pm'
				};
				const days = ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];
				const d = new Date().getDay();
				const todayEl = document.getElementById('todayHours');
				if(todayEl) todayEl.textContent = `Today: ${days[d]} — ${weekly[d]}`;
			})();
		</script>
	</body>
</html>
